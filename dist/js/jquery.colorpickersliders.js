!function(e){"use strict";e.fn.ColorPickerSliders=function(r){return this.each(function(){function t(){Z||(Z=!0,"filter"===(T=e.fn.ColorPickerSliders.detectWhichGradientIsSupported())&&(T=!1),!T&&e.fn.ColorPickerSliders.svgSupported()&&(T="svg"),a(),X.order.hasOwnProperty("preview")&&!1!==X.order.preview||T||(X.order.preview=10),s(),c(),N?(V.tiny=tinycolor(j.val()),V.tiny.format||(V.tiny=tinycolor(X.color))):V.tiny=tinycolor(X.color),V.hsla=V.tiny.toHsl(),V.rgba=V.tiny.toRgb(),V.cielch=e.fn.ColorPickerSliders.rgb2lch(V.rgba),u(),p(),y())}function o(r,t){var o=tinycolor(r);return!!o.format&&(z.removeClass("cp-unconvertible-cie-color"),V.tiny=o,V.hsla=o.toHsl(),V.rgba=o.toRgb(),V.cielch=e.fn.ColorPickerSliders.rgb2lch(V.rgba),y(t),!0)}function i(){z.data("justshown",!0),e(".cp-container.cp-popup").hide();var r,t=e(window).width(),o=j.offset();void 0===(r=z.data("popup-original-width"))&&(r=z.outerWidth(),z.data("popup-original-width",r)),o.left+r+12<=t?z.css("left",o.left).width(r):r<=t?z.css("left",t-r-12).width(r):z.css("left",0).width(t-12),z.css("top",o.top+j.outerHeight()).show()}function n(){z.hide()}function a(){X=e.extend({color:"hsl(342, 52%, 70%)",preventtouchkeyboardonshow:!0,swatches:["FFFFFF","C0C0C0","808080","000000","FF0000","800000","FFFF00","808000","00FF00","008000","00FFFF","008080","0000FF","000080","FF00FF","800080"],customswatches:"colorpickkersliders",connectedinput:!1,flat:!1,disableautopopup:!1,updateinterval:30,previewontriggerelement:!0,previewcontrasttreshold:15,previewformat:"rgb",erroneousciecolormarkers:!0,invalidcolorsopacity:1,finercierangeedges:!0,titleswatchesadd:"Add color to swatches",titleswatchesremove:"Remove color from swatches",titleswatchesreset:"Reset to default swatches",order:{},labels:{},onchange:function(){}},r),r.hasOwnProperty("order")?X.order=e.extend({opacity:!1,hsl:!1,rgb:!1,cie:!1,preview:!1},r.order):X.order={opacity:0,hsl:1,rgb:2,cie:3,preview:4},r.hasOwnProperty("labels")||(r.labels={}),X.labels=e.extend({hslhue:"HSL-Hue",hslsaturation:"HSL-Saturation",hsllightness:"HSL-Lightness",rgbred:"RGB-Red",rgbgreen:"RGB-Green",rgbblue:"RGB-Blue",cielightness:"CIE-Lightness",ciechroma:"CIE-Chroma",ciehue:"CIE-hue",opacity:"Opacity",preview:"Preview"},r.labels)}function s(){var r=[],t="";!1!==X.order.opacity&&(r[X.order.opacity]='<div class="cp-slider cp-opacity cp-transparency"><span>'+X.labels.opacity+'</span><div class="cp-marker"></div></div>'),!1!==X.order.hsl&&(r[X.order.hsl]='<div class="cp-slider cp-hslhue cp-transparency"><span>'+X.labels.hslhue+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-hslsaturation cp-transparency"><span>'+X.labels.hslsaturation+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-hsllightness cp-transparency"><span>'+X.labels.hsllightness+'</span><div class="cp-marker"></div></div>'),!1!==X.order.rgb&&(r[X.order.rgb]='<div class="cp-slider cp-rgbred cp-transparency"><span>'+X.labels.rgbred+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-rgbgreen cp-transparency"><span>'+X.labels.rgbgreen+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-rgbblue cp-transparency"><span>'+X.labels.rgbblue+'</span><div class="cp-marker"></div></div>'),!1!==X.order.cie&&(r[X.order.cie]='<div class="cp-slider cp-cielightness cp-transparency"><span>'+X.labels.cielightness+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-ciechroma cp-transparency"><span>'+X.labels.ciechroma+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-ciehue cp-transparency"><span>'+X.labels.ciehue+'</span><div class="cp-marker"></div></div>'),!1!==X.order.preview&&(r[X.order.preview]='<div class="cp-preview cp-transparency"><input type="text" readonly="readonly"></div>'),t+='<div class="cp-sliders">';for(var o=0;o<r.length;o++)void 0!==r[o]&&(t+=r[o]);t+="</div>",X.swatches&&(t+='<div class="cp-swatches"><button type="button" class="add" title="'+X.titleswatchesadd+'"></button><button type="button" class="remove" title="'+X.titleswatchesremove+'"></button><button type="button" class="reset" title="'+X.titleswatchesreset+'"></button><ul></ul><div style="clear:both"></div></div>'),X.flat?N?z=e('<div class="cp-container"></div>').insertAfter(j):(z=e('<div class="cp-container"></div>'),j.append(z)):z=e('<div class="cp-container"></div>').appendTo("body"),z.append(t),X.connectedinput instanceof jQuery?X.connectedinput.add(j):!1===X.connectedinput?X.connectedinput=j:X.connectedinput=e(X.connectedinput).add(j),X.flat||z.addClass("cp-popup")}function c(){Y={connectedinput:!1,actualswatch:!1,swatchescontainer:e(".cp-swatches",z),swatches:e(".cp-swatches ul",z),swatches_add:e(".cp-swatches button.add",z),swatches_remove:e(".cp-swatches button.remove",z),swatches_reset:e(".cp-swatches button.reset",z),all_sliders:e(".cp-sliders, .cp-preview input",z),sliders:{hue:e(".cp-hslhue span",z),hue_marker:e(".cp-hslhue .cp-marker",z),saturation:e(".cp-hslsaturation span",z),saturation_marker:e(".cp-hslsaturation .cp-marker",z),lightness:e(".cp-hsllightness span",z),lightness_marker:e(".cp-hsllightness .cp-marker",z),opacity:e(".cp-opacity span",z),opacity_marker:e(".cp-opacity .cp-marker",z),red:e(".cp-rgbred span",z),red_marker:e(".cp-rgbred .cp-marker",z),green:e(".cp-rgbgreen span",z),green_marker:e(".cp-rgbgreen .cp-marker",z),blue:e(".cp-rgbblue span",z),blue_marker:e(".cp-rgbblue .cp-marker",z),cielightness:e(".cp-cielightness span",z),cielightness_marker:e(".cp-cielightness .cp-marker",z),ciechroma:e(".cp-ciechroma span",z),ciechroma_marker:e(".cp-ciechroma .cp-marker",z),ciehue:e(".cp-ciehue span",z),ciehue_marker:e(".cp-ciehue .cp-marker",z),preview:e(".cp-preview input",z)}},X.connectedinput&&(X.connectedinput instanceof jQuery?Y.connectedinput=X.connectedinput:Y.connectedinput=e(X.connectedinput)),X.customswatches||(Y.swatches_add.hide(),Y.swatches_remove.hide(),Y.swatches_reset.hide())}function l(){z instanceof jQuery&&(n(),z.remove(),Z=!1)}function d(){t()}function p(){j.on("colorpickersliders.destroy",function(){l()}),j.on("colorpickersliders.reset",function(){d()}),j.on("colorpickersliders.updateColor",function(e,r){o(r)}),j.on("colorpickersliders.showPopup",function(){i()}),j.on("colorpickersliders.hidePopup",function(){n()}),e(document).on("colorpickersliders.changeswatches",function(){u()}),X.flat||X.disableautopopup||(void 0===j.attr("tabindex")&&j.attr("tabindex",-1),X.preventtouchkeyboardonshow&&(e(j).prop("readonly",!0),e(j).on("click",function(r){z.data("justshown")?z.data("justshown",!1):(e(j).prop("readonly",!1),r.stopPropagation())})),N||(e(j).on("click",function(e){i(),e.stopPropagation()}),e(document).on("click",function(){n()})),e(j).on("focus",function(e){i(),e.stopPropagation()}),e(j).on("blur",function(r){n(),X.preventtouchkeyboardonshow&&e(j).prop("readonly",!0),r.stopPropagation()}),z.on("touchstart mousedown",function(e){return e.preventDefault(),e.stopPropagation(),!1})),z.on("contextmenu",function(e){return e.preventDefault(),!1}),Y.swatches.on("click","li span",function(r){o(e(this).css("background-color")),r.preventDefault()}),Y.swatches_add.on("click",function(e){b(),e.preventDefault()}),Y.swatches_remove.on("click",function(e){v(),e.preventDefault()}),Y.swatches_reset.on("click",function(e){k(),e.preventDefault()}),Y.sliders.hue.parent().on("touchstart mousedown",function(e){e.preventDefault(),e.which>1||(w("hsla","h",3.6*m(W="hue",e)),y())}),Y.sliders.saturation.parent().on("touchstart mousedown",function(e){e.preventDefault(),e.which>1||(w("hsla","s",m(W="saturation",e)/100),y())}),Y.sliders.lightness.parent().on("touchstart mousedown",function(e){e.preventDefault(),e.which>1||(w("hsla","l",m(W="lightness",e)/100),y())}),Y.sliders.opacity.parent().on("touchstart mousedown",function(e){e.preventDefault(),e.which>1||(w("hsla","a",m(W="opacity",e)/100),y())}),Y.sliders.red.parent().on("touchstart mousedown",function(e){e.preventDefault(),e.which>1||(w("rgba","r",2.55*m(W="red",e)),y())}),Y.sliders.green.parent().on("touchstart mousedown",function(e){e.preventDefault(),e.which>1||(w("rgba","g",2.55*m(W="green",e)),y())}),Y.sliders.blue.parent().on("touchstart mousedown",function(e){e.preventDefault(),e.which>1||(w("rgba","b",2.55*m(W="blue",e)),y())}),Y.sliders.cielightness.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){var r=m(W="cielightness",e);w("cielch","l",B/100*r),y()}}),Y.sliders.ciechroma.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){var r=m(W="ciechroma",e);w("cielch","c",J/100*r),y()}}),Y.sliders.ciehue.parent().on("touchstart mousedown",function(e){e.preventDefault(),e.which>1||(w("cielch","h",3.6*m(W="ciehue",e)),y())}),Y.sliders.preview.on("click",function(){this.select()}),e(document).on("touchmove mousemove",function(e){if(W){var r=m(W,e);switch(W){case"hue":w("hsla","h",3.6*r);break;case"saturation":w("hsla","s",r/100);break;case"lightness":w("hsla","l",r/100);break;case"opacity":w("hsla","a",r/100);break;case"red":w("rgba","r",2.55*r);break;case"green":w("rgba","g",2.55*r);break;case"blue":w("rgba","b",2.55*r);break;case"cielightness":w("cielch","l",B/100*r);break;case"ciechroma":w("cielch","c",J/100*r);break;case"ciehue":w("cielch","h",3.6*r)}y(),e.preventDefault()}}),e(document).on("touchend mouseup",function(e){e.which>1||W&&(W=!1,e.preventDefault())}),Y.connectedinput&&Y.connectedinput.on("keyup change",function(){o(e(this).val(),!0)})}function h(){A=[];for(var e=0;e<X.swatches.length;e++){var r=tinycolor(X.swatches[e]);r.format&&A.push(r.toRgbString())}}function u(){if(X.swatches){if(X.customswatches){var r=!1;try{r=JSON.parse(localStorage.getItem("swatches-"+X.customswatches))}catch(e){}r?A=r:h()}else h();if(A instanceof Array){Y.swatches.html("");for(var t=0;t<A.length;t++){var o=tinycolor(A[t]);o.format&&Y.swatches.append(e("<li></li>").append(e("<span></span>").css("background-color",o.toRgbString())))}}g()}}function g(){var r=!1;e("span",Y.swatches).filter(function(){var t=e(this).css("background-color");if(t=tinycolor(t),t.alpha=Math.round(100*t.alpha)/100,t.toRgbString()===V.tiny.toRgbString()){r=!0;var o=e(this).parent();o.is(Y.actualswatch)||(Y.actualswatch&&Y.actualswatch.removeClass("actual"),Y.actualswatch=o,o.addClass("actual"))}}),r||Y.actualswatch&&(Y.actualswatch.removeClass("actual"),Y.actualswatch=!1),Y.actualswatch?(Y.swatches_add.prop("disabled",!0),Y.swatches_remove.prop("disabled",!1)):(Y.swatches_add.prop("disabled",!1),Y.swatches_remove.prop("disabled",!0))}function f(){localStorage.setItem("swatches-"+X.customswatches,JSON.stringify(A))}function b(){A.unshift(V.tiny.toRgbString()),f(),e(document).trigger("colorpickersliders.changeswatches")}function v(){var r=A.indexOf(V.tiny.toRgbString());-1!==r&&(A.splice(r,1),f(),e(document).trigger("colorpickersliders.changeswatches"))}function k(){confirm("Do you really want to reset the swatches? All customizations will be lost!")&&(h(),f(),e(document).trigger("colorpickersliders.changeswatches"))}function w(r,t,o){switch(r){case"hsla":V.hsla[t]=o,V.tiny=tinycolor({h:V.hsla.h,s:V.hsla.s,l:V.hsla.l,a:V.hsla.a}),V.rgba=V.tiny.toRgb(),V.cielch=e.fn.ColorPickerSliders.rgb2lch(V.rgba),z.removeClass("cp-unconvertible-cie-color");break;case"rgba":V.rgba[t]=o,V.tiny=tinycolor({r:V.rgba.r,g:V.rgba.g,b:V.rgba.b,a:V.hsla.a}),V.hsla=V.tiny.toHsl(),V.cielch=e.fn.ColorPickerSliders.rgb2lch(V.rgba),z.removeClass("cp-unconvertible-cie-color");break;case"cielch":V.cielch[t]=o,V.rgba=e.fn.ColorPickerSliders.lch2rgb(V.cielch),V.tiny=tinycolor(V.rgba),V.hsla=V.tiny.toHsl(),X.erroneousciecolormarkers&&(V.rgba.isok?z.removeClass("cp-unconvertible-cie-color"):z.addClass("cp-unconvertible-cie-color"))}}function m(r,t){var o=e.fn.ColorPickerSliders.calculateEventPositionPercentage(t,Y.sliders[r]);return Y.sliders[r+"_marker"].data("position",o),o}function S(e){U=setTimeout(function(){y(e)},X.updateinterval)}function y(e){clearTimeout(U),Date.now=Date.now||function(){return+new Date},Date.now()-Q<X.updateinterval?S(e):(void 0===e&&(e=!1),Q=Date.now(),!1!==X.order.opacity&&_(),!1!==X.order.hsl&&(P(),x(),M()),!1!==X.order.rgb&&(G(),I(),E()),!1!==X.order.cie&&(R(),F(),O()),!1!==X.order.preview&&L(),e||C(),(100-V.cielch.l)*V.cielch.a<X.previewcontrasttreshold?(Y.all_sliders.css("color","#000"),N&&X.previewontriggerelement&&j.css("background",V.tiny.toRgbString()).css("color","#000")):(Y.all_sliders.css("color","#fff"),N&&X.previewontriggerelement&&j.css("background",V.tiny.toRgbString()).css("color","#fff")),g(),X.onchange(z,V),j.data("color",V))}function C(){Y.connectedinput&&Y.connectedinput.each(function(r,t){var o=e(t);switch(o.data("color-format")||X.previewformat){case"hex":o.val(V.tiny.toHexString());break;case"hsl":o.val(V.tiny.toHslString());break;case"rgb":default:o.val(V.tiny.toRgbString())}})}function P(){H(Y.sliders.hue,e.fn.ColorPickerSliders.getScaledGradientStops(V.hsla,"h",0,360,7)),Y.sliders.hue_marker.css("left",V.hsla.h/360*100+"%")}function x(){H(Y.sliders.saturation,e.fn.ColorPickerSliders.getScaledGradientStops(V.hsla,"s",0,1,2)),Y.sliders.saturation_marker.css("left",100*V.hsla.s+"%")}function M(){H(Y.sliders.lightness,e.fn.ColorPickerSliders.getScaledGradientStops(V.hsla,"l",0,1,3)),Y.sliders.lightness_marker.css("left",100*V.hsla.l+"%")}function _(){H(Y.sliders.opacity,e.fn.ColorPickerSliders.getScaledGradientStops(V.hsla,"a",0,1,2)),Y.sliders.opacity_marker.css("left",100*V.hsla.a+"%")}function G(){H(Y.sliders.red,e.fn.ColorPickerSliders.getScaledGradientStops(V.rgba,"r",0,255,2)),Y.sliders.red_marker.css("left",V.rgba.r/255*100+"%")}function I(){H(Y.sliders.green,e.fn.ColorPickerSliders.getScaledGradientStops(V.rgba,"g",0,255,2)),Y.sliders.green_marker.css("left",V.rgba.g/255*100+"%")}function E(){H(Y.sliders.blue,e.fn.ColorPickerSliders.getScaledGradientStops(V.rgba,"b",0,255,2)),Y.sliders.blue_marker.css("left",V.rgba.b/255*100+"%")}function D(r,t){if(1===X.invalidcolorsopacity||!X.finercierangeedges)return r;r.sort(function(e,r){return e.position-r.position});for(var o=[],i=1;i<r.length;i++)if(r[i].isok!==r[i-1].isok)for(var n=Math.round(r[i].position)-Math.round(r[i-1].position),a=e.fn.ColorPickerSliders.getScaledGradientStops(r[i].rawcolor,t,r[i-1].rawcolor[t],r[i].rawcolor[t],n,X.invalidcolorsopacity,r[i-1].position,r[i].position),s=0;s<a.length;s++)if(a[s].isok!==r[i-1].isok){o.push(a[s]),s>0&&o.push(a[s-1]);break}return e.merge(o,r)}function R(){var r=e.fn.ColorPickerSliders.getScaledGradientStops(V.cielch,"l",0,100,10,X.invalidcolorsopacity);r=D(r,"l"),H(Y.sliders.cielightness,r),Y.sliders.cielightness_marker.css("left",V.cielch.l/B*100+"%")}function F(){var r=e.fn.ColorPickerSliders.getScaledGradientStops(V.cielch,"c",0,J,5,X.invalidcolorsopacity);r=D(r,"c"),H(Y.sliders.ciechroma,r),Y.sliders.ciechroma_marker.css("left",V.cielch.c/J*100+"%")}function O(){var r=e.fn.ColorPickerSliders.getScaledGradientStops(V.cielch,"h",0,360,28,X.invalidcolorsopacity);r=D(r,"h"),H(Y.sliders.ciehue,r),Y.sliders.ciehue_marker.css("left",V.cielch.h/360*100+"%")}function L(){Y.sliders.preview.css("background",e.fn.ColorPickerSliders.csscolor(V.rgba));var r;switch(X.previewformat){case"hex":r=V.tiny.toHexString();break;case"hsl":r=V.tiny.toHslString();break;case"rgb":default:r=V.tiny.toRgbString()}Y.sliders.preview.val(r)}function H(r,t){switch(t.sort(function(e,r){return e.position-r.position}),T){case"noprefix":e.fn.ColorPickerSliders.renderNoprefix(r,t);break;case"webkit":e.fn.ColorPickerSliders.renderWebkit(r,t);break;case"ms":e.fn.ColorPickerSliders.renderMs(r,t);break;case"svg":e.fn.ColorPickerSliders.renderSVG(r,t);break;case"oldwebkit":e.fn.ColorPickerSliders.renderOldwebkit(r,t)}}var X,z,Y,A,Z=!1,j=e(this),N=j.is("input"),T=!1,B=101,W=!1,Q=0,V={tiny:null,hsla:null,rgba:null,cielch:null},J=144;t();var U})},e.fn.ColorPickerSliders.getEventCoordinates=function(e){return void 0!==e.pageX?{pageX:e.originalEvent.pageX,pageY:e.originalEvent.pageY}:void 0!==e.originalEvent.touches?{pageX:e.originalEvent.touches[0].pageX,pageY:e.originalEvent.touches[0].pageY}:void 0},e.fn.ColorPickerSliders.calculateEventPositionPercentage=function(r,t){var o=e.fn.ColorPickerSliders.getEventCoordinates(r),i=t.width(),n=(o.pageX-t.offset().left)/i*100;return n<0&&(n=0),n>100&&(n=100),n},e.fn.ColorPickerSliders.getScaledGradientStops=function(r,t,o,i,n,a,s,c){void 0===a&&(a=1),void 0===s&&(s=0),void 0===c&&(c=100);for(var l=[],d=i-o,p=!0,h=0;h<n;++h){var u,g=h/(n-1),f=e.fn.ColorPickerSliders.modifyColor(r,t,g*d+o);if(a<1){var b=e.fn.ColorPickerSliders.lch2rgb(f,a);p=b.isok,u=e.fn.ColorPickerSliders.csscolor(b,a)}else u=e.fn.ColorPickerSliders.csscolor(f,a);l[h]={color:tinycolor(u).toRgbString(),position:Math.round(100*(g*(c-s)+s))/100,isok:p,rawcolor:f}}return l},e.fn.ColorPickerSliders.getGradientStopsCSSString=function(e){for(var r="",t="",o="",i=0;i<e.length;i++){var n=e[i];r+=","+n.color+" "+n.position+"%",t+=",color-stop("+n.position+"%,"+n.color+")";var a=tinycolor(n.color);o+='<stop stop-color="'+a.toHexString()+'" stop-opacity="'+a.toRgb().a+'" offset="'+n.position/100+'"/>'}return{noprefix:r,oldwebkit:t,svg:o}},e.fn.ColorPickerSliders.renderNoprefix=function(r,t){var o="linear-gradient(to right";o+=e.fn.ColorPickerSliders.getGradientStopsCSSString(t).noprefix+")",r.css("background-image",o)},e.fn.ColorPickerSliders.renderWebkit=function(r,t){var o="-webkit-linear-gradient(left";o+=e.fn.ColorPickerSliders.getGradientStopsCSSString(t).noprefix+")",r.css("background-image",o)},e.fn.ColorPickerSliders.renderOldwebkit=function(r,t){var o="-webkit-gradient(linear, 0% 0%, 100% 0%";o+=e.fn.ColorPickerSliders.getGradientStopsCSSString(t).oldwebkit+")",r.css("background-image",o)},e.fn.ColorPickerSliders.renderMs=function(r,t){var o="-ms-linear-gradient(to right";o+=e.fn.ColorPickerSliders.getGradientStopsCSSString(t).noprefix+")",r.css("background-image",o)},e.fn.ColorPickerSliders.renderSVG=function(r,t){var o="";o='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><linearGradient id="vsgg" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="100%" y2="0">',o+=e.fn.ColorPickerSliders.getGradientStopsCSSString(t).svg,o+='</linearGradient><rect x="0" y="0" width="1" height="1" fill="url(#vsgg)" /></svg>',o="url(data:image/svg+xml;base64,"+e.fn.ColorPickerSliders.base64encode(o)+")",r.css("background-image",o)},e.fn.ColorPickerSliders.base64encode=function(e){var r,t,o,i,n,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,c=0,l="",d=[];if(!e)return e;do{r=(n=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,t=n>>12&63,o=n>>6&63,i=63&n,d[c++]=a.charAt(r)+a.charAt(t)+a.charAt(o)+a.charAt(i)}while(s<e.length);l=d.join("");var p=e.length%3;return(p?l.slice(0,p-3):l)+"===".slice(p||3)},e.fn.ColorPickerSliders.isGoodRgb=function(e){return!(e.r>258||e.g>258||e.b>258||e.r<-1||e.g<-1||e.b<-1)&&(e.r=Math.min(255,e.r),e.g=Math.min(255,e.g),e.b=Math.min(255,e.b),e.r=Math.max(0,e.r),e.g=Math.max(0,e.g),e.b=Math.max(0,e.b),!0)},e.fn.ColorPickerSliders.rgb2lch=function(r){var t=e.fn.ColorPickerSliders.CIELab2CIELCH(e.fn.ColorPickerSliders.XYZ2CIELab(e.fn.ColorPickerSliders.rgb2XYZ(r)));return r.hasOwnProperty("a")&&(t.a=r.a),t},e.fn.ColorPickerSliders.lch2rgb=function(r,t){void 0===t&&(t=1);var o=e.fn.ColorPickerSliders.XYZ2rgb(e.fn.ColorPickerSliders.CIELab2XYZ(e.fn.ColorPickerSliders.CIELCH2CIELab(r)));if(e.fn.ColorPickerSliders.isGoodRgb(o))return r.hasOwnProperty("a")&&(o.a=r.a),o.isok=!0,o;var i=e.extend({},r),n=i.c,a=-1,s=0;do{++s,i.c=a+(n-a)/2,o=e.fn.ColorPickerSliders.XYZ2rgb(e.fn.ColorPickerSliders.CIELab2XYZ(e.fn.ColorPickerSliders.CIELCH2CIELab(i))),e.fn.ColorPickerSliders.isGoodRgb(o)?a=i.c:n=i.c}while(Math.abs(n-a)>.9&&s<100);return r.hasOwnProperty("a")&&(o.a=r.a),o.r=Math.max(0,o.r),o.g=Math.max(0,o.g),o.b=Math.max(0,o.b),o.r=Math.min(255,o.r),o.g=Math.min(255,o.g),o.b=Math.min(255,o.b),t<1&&(o.hasOwnProperty("a")?o.a=o.a*t:o.a=t),o.isok=!1,o},e.fn.ColorPickerSliders.modifyColor=function(r,t,o){var i=e.extend({},r);if(!r.hasOwnProperty(t))throw"Missing color property: "+t;return i[t]=o,i},e.fn.ColorPickerSliders.csscolor=function(r,t){void 0===t&&(t=1);var o=!1,i=e.extend({},r);return i.hasOwnProperty("c")&&(i=e.fn.ColorPickerSliders.lch2rgb(i,t)),i.hasOwnProperty("h")&&(o="hsla("+i.h+","+100*i.s+"%,"+100*i.l+"%,"+i.a+")"),i.hasOwnProperty("r")&&(o=i.a<1?"rgba("+Math.round(i.r)+","+Math.round(i.g)+","+Math.round(i.b)+","+i.a+")":"rgb("+Math.round(i.r)+","+Math.round(i.g)+","+Math.round(i.b)+")"),o},e.fn.ColorPickerSliders.rgb2XYZ=function(e){var r={},t=e.r/255,o=e.g/255,i=e.b/255;return t>.04045?t=Math.pow((t+.055)/1.055,2.4):t/=12.92,o>.04045?o=Math.pow((o+.055)/1.055,2.4):o/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,t*=100,o*=100,i*=100,r.x=.4124*t+.3576*o+.1805*i,r.y=.2126*t+.7152*o+.0722*i,r.z=.0193*t+.1192*o+.9505*i,r},e.fn.ColorPickerSliders.XYZ2CIELab=function(e){var r={},t=e.x/95.047,o=e.y/100,i=e.z/108.883;return t=t>.008856?Math.pow(t,.333333333):7.787*t+.137931034,o=o>.008856?Math.pow(o,.333333333):7.787*o+.137931034,i=i>.008856?Math.pow(i,.333333333):7.787*i+.137931034,r.l=116*o-16,r.a=500*(t-o),r.b=200*(o-i),r},e.fn.ColorPickerSliders.CIELab2CIELCH=function(e){var r={};return r.l=e.l,r.c=Math.sqrt(Math.pow(e.a,2)+Math.pow(e.b,2)),r.h=Math.atan2(e.b,e.a),r.h>0?r.h=r.h/Math.PI*180:r.h=360-Math.abs(r.h)/Math.PI*180,r},e.fn.ColorPickerSliders.CIELCH2CIELab=function(e){var r={};return r.l=e.l,r.a=Math.cos(.01745329251*e.h)*e.c,r.b=Math.sin(.01745329251*e.h)*e.c,r},e.fn.ColorPickerSliders.CIELab2XYZ=function(e){var r={};return r.y=(e.l+16)/116,r.x=e.a/500+r.y,r.z=r.y-e.b/200,Math.pow(r.y,3)>.008856?r.y=Math.pow(r.y,3):r.y=(r.y-.137931034)/7.787,Math.pow(r.x,3)>.008856?r.x=Math.pow(r.x,3):r.x=(r.x-.137931034)/7.787,Math.pow(r.z,3)>.008856?r.z=Math.pow(r.z,3):r.z=(r.z-.137931034)/7.787,r.x=95.047*r.x,r.y=100*r.y,r.z=108.883*r.z,r},e.fn.ColorPickerSliders.XYZ2rgb=function(e){var r={};return e.x=e.x/100,e.y=e.y/100,e.z=e.z/100,r.r=3.2406*e.x+-1.5372*e.y+-.4986*e.z,r.g=-.9689*e.x+1.8758*e.y+.0415*e.z,r.b=.0557*e.x+-.204*e.y+1.057*e.z,r.r>.0031308?r.r=1.055*Math.pow(r.r,.41666667)-.055:r.r=12.92*r.r,r.g>.0031308?r.g=1.055*Math.pow(r.g,.41666667)-.055:r.g=12.92*r.g,r.b>.0031308?r.b=1.055*Math.pow(r.b,.41666667)-.055:r.b=12.92*r.b,r.r=Math.round(255*r.r),r.g=Math.round(255*r.g),r.b=Math.round(255*r.b),r},e.fn.ColorPickerSliders.detectWhichGradientIsSupported=function(){var e=document.createElement("detectGradientSupport").style;try{if(e.backgroundImage="linear-gradient(to top left, #9f9, white)",-1!==e.backgroundImage.indexOf("gradient"))return"noprefix";if(e.backgroundImage="-webkit-linear-gradient(left top, #9f9, white)",-1!==e.backgroundImage.indexOf("gradient"))return"webkit";if(e.backgroundImage="-ms-linear-gradient(left top, #9f9, white)",-1!==e.backgroundImage.indexOf("gradient"))return"ms";if(e.backgroundImage="-webkit-gradient(linear, left top, right bottom, from(#9f9), to(white))",-1!==e.backgroundImage.indexOf("gradient"))return"oldwebkit"}catch(r){try{if(e.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#000000',GradientType=0)",-1!==e.filter.indexOf("DXImageTransform"))return"filter"}catch(e){}}return!1},e.fn.ColorPickerSliders.svgSupported=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}}(jQuery);