$(document).ready(function(){function e(){$("#preview-produto").trigger("remove.owl.carousel",[$(this).closest(".owl-item").index()]).trigger("refresh.owl.carousel")}$(".modal").modal(),$("select").material_select(),$(document).ready(function(){$(".collapsible").collapsible()}),$(".chips.grupos-clientes").material_chip({placeholder:"Digite um grupo",secondaryPlaceholder:"+Grupo",data:[{tag:"Grupo 1"},{tag:"Grupo 2"}]}),$("input[type=text].dinheiro").mask("000.000.000.000.000,00",{reverse:!0}),$(".navegacao-etapas .anterior").click(function(){var e=$(".etapas-cadastro .etapa.ativo");e.removeClass("ativo").prev(".etapa").addClass("ativo"),$(".guia-procedimento .etapa.ativo").removeClass("ativo"),$(".guia-procedimento .etapa:nth-child("+e.prev(".etapa").data("passo")+")").addClass("ativo")}),$(".navegacao-etapas .proximo").click(function(){var e=$(".etapas-cadastro .etapa.ativo");e.removeClass("ativo").next(".etapa").addClass("ativo"),$(".guia-procedimento .etapa.ativo").removeClass("ativo"),$(".guia-procedimento .etapa:nth-child("+e.next(".etapa").data("passo")+")").addClass("ativo")}),$(".mini-form-tamanho .salvar-cor").click(function(){var e=$(this).closest(".mini-form-tamanho").find("#adicionar-tamanho").val().replace(/[^\w]/g,"").toUpperCase();""==e?(event.stopImmediatePropagation(),alert("Digite um nome válido!")):$(this).closest(".etapa").find(".lista-tamanhos-produto #produto-tam-"+e).length?(event.stopImmediatePropagation(),alert("Esta cor já existe!")):(e='<fieldset><input type="checkbox" id="produto-tam-'+e+'" name="tamanho-'+e+'"><label for="produto-tam-'+e+'">'+e+"</label><br></fieldset>",$(this).closest(".etapa").find(".lista-tamanhos-produto").append(e),$(this).closest(".mini-form-tamanho").find("#adicionar-tamanho").val(""))}),$("#upload-imagens-produto").change(function(o){for(;$("#preview-produto .owl-item").length;)$("#preview-produto").trigger("remove.owl.carousel",[0]).trigger("refresh.owl.carousel");for(i=0;i<o.target.files.length;i++){var a='<div class="item"><img src="'+URL.createObjectURL(o.target.files[i])+'"><i class="fa fa-close" aria-hidden="true"></i></div>';$("#preview-produto").trigger("add.owl.carousel",[a]).trigger("refresh.owl.carousel")}$("#preview-produto .item .fa-close").click(e)}),$("#preview-produto .item .fa-close").click(e),$("#upload-imagem-estampa").change(function(e){$("#preview-estampa").attr("src",URL.createObjectURL(e.target.files[0])).closest(".preview-images").removeClass("hide")}),$("#preview-estampa + .fa-close").click(function(){$(this).closest(".preview-images").addClass("hide"),$("#upload-imagem-estampa").val("").closest(".input-field").find("input[type=text]").val("")}),$("#criar-cor .btn.salvar").click(function(e){var o=$("#preview-cor").css("background-color"),a=$("#nome-cor-adicionar").val().replace(/[^\w]/g,"");""===a?(e.stopImmediatePropagation(),alert("Digite um nome válido!")):$("#produto-cor-"+a).length?(e.stopImmediatePropagation(),alert("Já existe uma cor com esse nome!")):($(this).closest(".etapa").find(".lista-cores").append('<fieldset><input type="radio" id="produto-cor-'+a+'" name="cor"><label for="produto-cor-'+a+'"><i class="fa fa-circle" aria-hidden="true" style="color:'+o+'"></i> <span>'+a+"</span></label><br></fieldset>"),$("#nome-cor-adicionar").val(""))}),$("#criar-cor .lista-cores-adicionar .selecionar-cor").click(function(){$("#codigo-cor-adicionar").val($(this).css("background-color")),$("#preview-cor").css("background-color",$(this).css("background-color"))}),$("#codigo-cor-adicionar").on("keypress change focus blur hover click paste mouseleave mouseenter",function(){$("#preview-cor").css("background-color",$(this).val())}),$("#lista-cores-produto fieldset").click(function(){$(".preview-cor").css("background-color",$(this).find(".fa-circle").css("color"))}),$(".lista-cores, .lista-tamanhos-produto").click(function(){var e=$(".etapa.checar-cor-tam .cores-tamanhos-final .info-atual");e.find(".bloco-cor .cor").css("background-color",$("#lista-cores-produto input[name=cor]:checked + label .fa").css("color")),e.find(".bloco-cor .nome-cor").text($("#lista-cores-produto input[name=cor]:checked + label span").text()),e.find(".bloco-tamanho .tam-qnt li").remove(),$("#lista-tamanhos-produto input[type=checkbox]:checked").each(function(){e.find(".bloco-tamanho .tam-qnt").append("<li>"+$(this).next("label").text()+"</li>")})}),$(".cores-tamanhos-final .excluir-cor input[type=checkbox]").click(function(e){$(this).closest(".cores-tamanhos-final li").addClass("hide"),alert("Item excluído com sucesso!")}),$(".grupos.collapsible .seletor-modo-pagamento .dropdown-content li").click(function(){$(this).index()>0&&($(this).closest(".collapsible-body").append('<label class="preco-produto" data-index="'+($(this).index()+1)+'"><span>'+$(this).text()+': </span><span class="simbolo-reais">R$</span><input type="text" class="dinheiro preco-produto" name="pag-'+$(this).closest(".collapsible-body").attr("data-grupo")+"-"+$(this).closest(".select-wrapper").find("select option:nth-child("+($(this).index()+1)+")").val()+'"><button class="btn-floating waves-effect waves-light excluir"><i class="fa fa-trash" aria-hidden="true"></i></button></label>'),$(this).addClass("hide").closest(".select-wrapper").find(".select-dropdown").val("Selecione")),$(".grupos.collapsible .preco-produto .excluir").click(function(){$(this).closest(".collapsible-body").find(".seletor-modo-pagamento .dropdown-content li:nth-child("+$(this).closest(".preco-produto").attr("data-index")+")").removeClass("hide"),$(this).closest(".preco-produto").remove()})}),$(".modal input[type=text]").focus(function(){$(window).width()<768&&$(window).scrollTop(0)}),$(window).scroll(function(e){$(".modal input[type=text]:focus").length&&$(window).width()<768&&(e.preventDefault(),$(window).scrollTop(0))}),$(".alerta-envio-imagens-concluido").click(function(){$("#preview-produto .owl-item").length&&$(this).hasClass("alerta-envio-imagens-concluido")&&(alert("Agora que você já enviou as fotos, diga quais as cores e tamanhos disponíveis para seu produto!"),$(this).removeClass("alerta-envio-imagens-concluido"))})});