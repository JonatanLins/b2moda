$(document).ready(function(){function a(){$("#preview-produto").trigger("remove.owl.carousel",[$(this).closest(".owl-item").index()]).trigger("refresh.owl.carousel")}$(".modal").modal(),$("select").material_select(),$(document).ready(function(){$(".collapsible").collapsible()}),$(".chips.grupos-clientes").material_chip({placeholder:"Digite um grupo",secondaryPlaceholder:"+Grupo",data:[{tag:"Grupo 1"},{tag:"Grupo 2"}]}),$("input[type=text].dinheiro").mask("000.000.000.000.000,00",{reverse:!0}),$(".navegacao-etapas .anterior").click(function(){var a=$(".etapas-cadastro .etapa.ativo");$("html, body").animate({scrollTop:$(".cadastro-produtos").offset().top-60},500),a.removeClass("ativo").prev(".etapa").addClass("ativo"),$(".guia-procedimento .etapa.ativo").removeClass("ativo"),$(".guia-procedimento .etapa:nth-child("+a.prev(".etapa").data("passo")+")").addClass("ativo")}),$(".navegacao-etapas .proximo").click(function(){var a=$(".etapas-cadastro .etapa.ativo");$("html, body").animate({scrollTop:$(".cadastro-produtos").offset().top-60},500),a.removeClass("ativo").next(".etapa").addClass("ativo"),$(".guia-procedimento .etapa.ativo").removeClass("ativo"),$(".guia-procedimento .etapa:nth-child("+a.next(".etapa").data("passo")+")").addClass("ativo")}),$(".cores-tamanhos-final .editar-cor").click(function(){$("#lista-cores-produto input[type=radio]:checked").length&&$("#lista-tamanhos-produto input[type=checkbox]:checked").length?($(".cores-tamanhos-final .info-atual").removeClass("info-atual"),$(this).closest(".cores-tamanhos-final > li").addClass("info-atual"),$("#lista-cores-produto input[type=radio]:checked").prop("checked",!1),$("#produto-cor-"+$(this).closest(".info-atual").find(".nome-cor").text()).prop("checked",!0),$("#lista-tamanhos-produto input[type=checkbox]:checked").prop("checked",!1),$(this).closest(".info-atual").find(".tam-qnt > li").each(function(){$("#produto-tam-"+$(this).text()).prop("checked",!0)}),$(".etapas-cadastro .etapa.ativo").removeClass("ativo"),$(".etapa-escolher-cor").addClass("ativo")):alert("Complete o cadastro da cor atual antes de modificar outra!")}),$(".checar-cor-tam .adicionar-cor").click(function(){$("#lista-cores-produto input[type=radio]:checked").length&&$("#lista-tamanhos-produto input[type=checkbox]:checked").length?($(".cores-tamanhos-final .info-atual").removeClass("info-atual"),$(".cores-tamanhos-final").prepend('<li class="info-atual"><div class="bloco-cor"><h3>Cor</h3><div class="cor"></div><div class="nome-cor">Nenhuma Cor Selecionada</div></div><div class="bloco-tamanho"><h3>Tamanhos</h3><ul class="tam-qnt"><li>Nenhum Tamanho Selecionado</li></ul></div><label class="btn-floating waves-effect waves-light editar-cor"><i class="fa fa-cog" aria-hidden="true"></i></label><label class="btn-floating waves-effect waves-light excluir-cor"><i class="fa fa-trash" aria-hidden="true"></i><input type="checkbox" name="excluir-cor-01"></label></li>'),$("#lista-cores-produto input[type=radio]:checked").prop("checked",!1),$("#lista-tamanhos-produto input[type=checkbox]:checked").prop("checked",!1),$("html, body").animate({scrollTop:$(".cadastro-produtos").offset().top-60},500),$(".etapas-cadastro .etapa.ativo").removeClass("ativo"),$(".etapa-escolher-cor").addClass("ativo"),$(".guia-procedimento .etapa.ativo").removeClass("ativo"),$(".guia-procedimento .etapa:nth-child("+$(".etapas-cadastro .etapa.ativo").data("passo")+")").addClass("ativo")):alert("Complete o cadastro da cor atual antes de criar uma nova!")}),$(".mini-form-tamanho .salvar-cor").click(function(){var a=$(this).closest(".mini-form-tamanho").find("#adicionar-tamanho").val().replace(/[^\w]/g,"").toUpperCase();""==a?(event.stopImmediatePropagation(),alert("Digite um nome válido!")):$(this).closest(".etapa").find(".lista-tamanhos-produto #produto-tam-"+a).length?(event.stopImmediatePropagation(),alert("Esta cor já existe!")):(a='<fieldset><input type="checkbox" id="produto-tam-'+a+'" name="tamanho-'+a+'"><label for="produto-tam-'+a+'">'+a+"</label><br></fieldset>",$(this).closest(".etapa").find(".lista-tamanhos-produto").append(a),$(this).closest(".mini-form-tamanho").find("#adicionar-tamanho").val(""))}),$("#upload-imagens-produto").change(function(o){for(;$("#preview-produto .owl-item").length;)$("#preview-produto").trigger("remove.owl.carousel",[0]).trigger("refresh.owl.carousel");for(i=0;i<o.target.files.length;i++){var e='<div class="item"><img src="'+URL.createObjectURL(o.target.files[i])+'"><i class="fa fa-close" aria-hidden="true"></i></div>';$("#preview-produto").trigger("add.owl.carousel",[e]).trigger("refresh.owl.carousel")}$("#preview-produto .item .fa-close").click(a)}),$("#preview-produto .item .fa-close").click(a),$("#upload-imagem-estampa").change(function(a){$("#preview-estampa").attr("src",URL.createObjectURL(a.target.files[0])).closest(".preview-images").removeClass("hide")}),$("#preview-estampa + .fa-close").click(function(){$(this).closest(".preview-images").addClass("hide"),$("#upload-imagem-estampa").val("").closest(".input-field").find("input[type=text]").val("")}),$("#criar-cor .btn.salvar").click(function(a){var o=$("#preview-cor").css("background-color"),e=$("#nome-cor-adicionar").val().replace(/[^\w]/g,"");""===e?(a.stopImmediatePropagation(),alert("Digite um nome válido!")):$("#produto-cor-"+e).length?(a.stopImmediatePropagation(),alert("Já existe uma cor com esse nome!")):($(this).closest(".etapa").find(".lista-cores").append('<fieldset><input type="radio" id="produto-cor-'+e+'" name="cor"><label for="produto-cor-'+e+'"><i class="fa fa-circle" aria-hidden="true" style="color:'+o+'"></i> <span>'+e+"</span></label><br></fieldset>"),$("#nome-cor-adicionar").val(""))}),$("#criar-cor .lista-cores-adicionar .selecionar-cor").click(function(){$("#codigo-cor-adicionar").val($(this).css("background-color")),$("#preview-cor").css("background-color",$(this).css("background-color"))}),$("#codigo-cor-adicionar").on("keypress change focus blur hover click paste mouseleave mouseenter",function(){$("#preview-cor").css("background-color",$(this).val())}),$("#lista-cores-produto fieldset").click(function(){$(".preview-cor").css("background-color",$(this).find(".fa-circle").css("color"))}),$(".lista-cores, .lista-tamanhos-produto").click(function(){var a=$(".etapa.checar-cor-tam .cores-tamanhos-final .info-atual");a.find(".bloco-cor .cor").css("background-color",$("#lista-cores-produto input[name=cor]:checked + label .fa").css("color")),a.find(".bloco-cor .nome-cor").text($("#lista-cores-produto input[name=cor]:checked + label span").text()),a.find(".bloco-tamanho .tam-qnt li").remove(),$("#lista-tamanhos-produto input[type=checkbox]:checked").each(function(){a.find(".bloco-tamanho .tam-qnt").append("<li>"+$(this).next("label").text()+"</li>")})}),$(".cores-tamanhos-final .excluir-cor input[type=checkbox]").click(function(a){$(this).closest(".cores-tamanhos-final li").addClass("hide"),alert("Item excluído com sucesso!")}),$(".grupos.collapsible .seletor-modo-pagamento .dropdown-content li").click(function(){if($(this).index()>0){var a=$(this).closest(".collapsible-body");a.children(".preco-produto.temporario").length&&(a.find(".seletor-modo-pagamento .dropdown-content li:nth-child("+a.find(".preco-produto.temporario").attr("data-index")+")").removeClass("hide"),a.find(".preco-produto.temporario").remove()),a.children(".seletor-modo-pagamento + label").after('<div><label class="preco-produto temporario" data-index="'+($(this).index()+1)+'"><span>'+$(this).text()+': </span><span class="simbolo-reais">R$</span><input type="text" class="dinheiro preco-produto" name="pag-'+a.attr("data-grupo")+"-"+$(this).closest(".select-wrapper").find("select option:nth-child("+($(this).index()+1)+")").val()+'"><button class="btn-floating waves-effect waves-light acao-preco"><i class="fa fa-check" aria-hidden="true"></i></button></label></div>'),$(this).addClass("hide").closest(".select-wrapper").find(".select-dropdown").val("Selecione")}$(".grupos.collapsible .preco-produto .acao-preco").click(function(){""!=$(this).siblings("input.dinheiro").val()?($(this).children(".fa-check").removeClass("fa-check").addClass("fa-trash").closest(".preco-produto").removeClass("temporario"),$(this).off("click").click(function(){$(this).closest(".collapsible-body").find(".seletor-modo-pagamento .dropdown-content li:nth-child("+$(this).closest(".preco-produto").attr("data-index")+")").removeClass("hide"),$(this).closest(".preco-produto").remove()})):alert("Digite um valor!")})}),$(".alerta-envio-imagens-concluido").click(function(){$("#preview-produto .owl-item").length&&$(this).hasClass("alerta-envio-imagens-concluido")&&(alert("Agora que você já enviou as fotos, diga quais as cores e tamanhos disponíveis para seu produto!"),$(this).removeClass("alerta-envio-imagens-concluido"))})});